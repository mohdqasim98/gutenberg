"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[2121],{"./packages/block-editor/src/components/block-mover/stories/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:function(){return _default}});var _wordpress_element__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/index.js"),_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/blocks/build-module/index.js"),_wordpress_block_library__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/block-library/build-module/index.js"),_wordpress_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/data/build-module/components/use-dispatch/use-dispatch.js"),_wordpress_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/toolbar/toolbar/index.js"),___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/block-editor/src/components/block-mover/index.js"),_provider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/block-editor/src/components/provider/index.js"),_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/block-editor/src/store/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");(0,_wordpress_block_library__WEBPACK_IMPORTED_MODULE_3__.Pr)();const blocks=[(0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.j4)("core/group",{layout:{type:"flex"}},[(0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.j4)("core/paragraph"),(0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.j4)("core/paragraph"),(0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.j4)("core/paragraph")]),(0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.j4)("core/buttons",{},[(0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.j4)("core/button"),(0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.j4)("core/button"),(0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.j4)("core/button")])];function Provider(_ref){let{children:children}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{margin:"24px",position:"relative"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_provider__WEBPACK_IMPORTED_MODULE_4__.jC,{value:blocks,children:children})})}function BlockMoverStory(){const{updateBlockListSettings:updateBlockListSettings}=(0,_wordpress_data__WEBPACK_IMPORTED_MODULE_5__.Z)(_store__WEBPACK_IMPORTED_MODULE_1__.h);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_6__.useEffect)((()=>{updateBlockListSettings(blocks[1].clientId,{orientation:"horizontal"})}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:"The mover by default is vertical"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_7__.Z,{label:"Block Mover",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_8__.Z,{clientIds:blocks.length?[blocks[0].innerBlocks[1].clientId]:[]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{style:{marginTop:36},children:"But it can also accommodate horizontal blocks."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_7__.Z,{label:"Block Mover",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_8__.Z,{clientIds:blocks.length?[blocks[1].innerBlocks[1].clientId]:[]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{style:{marginTop:36},children:"We can also hide the drag handle."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_7__.Z,{label:"Block Mover",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_8__.Z,{clientIds:blocks.length?[blocks[1].innerBlocks[0].clientId]:[],hideDragHandle:!0})})]})}Provider.displayName="Provider",BlockMoverStory.displayName="BlockMoverStory",__webpack_exports__.default={parameters:{sourceLink:"packages/block-editor/src/components/block-mover",storySource:{source:"/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { createBlock } from '@wordpress/blocks';\nimport { registerCoreBlocks } from '@wordpress/block-library';\nimport { useDispatch } from '@wordpress/data';\nimport { Toolbar } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BlockMover from '../';\nimport { ExperimentalBlockEditorProvider } from '../../provider';\nimport { store as blockEditorStore } from '../../../store';\n\nregisterCoreBlocks();\nconst blocks = [\n\t// vertical\n\tcreateBlock( 'core/group', { layout: { type: 'flex' } }, [\n\t\tcreateBlock( 'core/paragraph' ),\n\t\tcreateBlock( 'core/paragraph' ),\n\t\tcreateBlock( 'core/paragraph' ),\n\t] ),\n\t// horizontal\n\tcreateBlock( 'core/buttons', {}, [\n\t\tcreateBlock( 'core/button' ),\n\t\tcreateBlock( 'core/button' ),\n\t\tcreateBlock( 'core/button' ),\n\t] ),\n];\n\nfunction Provider( { children } ) {\n\tconst wrapperStyle = { margin: '24px', position: 'relative' };\n\n\treturn (\n\t\t<div style={ wrapperStyle }>\n\t\t\t<ExperimentalBlockEditorProvider value={ blocks }>\n\t\t\t\t{ children }\n\t\t\t</ExperimentalBlockEditorProvider>\n\t\t</div>\n\t);\n}\n\nfunction BlockMoverStory() {\n\tconst { updateBlockListSettings } = useDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\t/**\n\t\t * This shouldn't be needed but unfortunatley\n\t\t * the layout orientation is not declarative, we need\n\t\t *  to render the blocks to update the block settings in the state.\n\t\t */\n\t\tupdateBlockListSettings( blocks[ 1 ].clientId, {\n\t\t\torientation: 'horizontal',\n\t\t} );\n\t}, [] );\n\n\treturn (\n\t\t<div>\n\t\t\t<p>The mover by default is vertical</p>\n\t\t\t<Toolbar label=\"Block Mover\">\n\t\t\t\t<BlockMover\n\t\t\t\t\tclientIds={\n\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t? [ blocks[ 0 ].innerBlocks[ 1 ].clientId ]\n\t\t\t\t\t\t\t: []\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Toolbar>\n\n\t\t\t<p style={ { marginTop: 36 } }>\n\t\t\t\tBut it can also accommodate horizontal blocks.\n\t\t\t</p>\n\t\t\t<Toolbar label=\"Block Mover\">\n\t\t\t\t<BlockMover\n\t\t\t\t\tclientIds={\n\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t? [ blocks[ 1 ].innerBlocks[ 1 ].clientId ]\n\t\t\t\t\t\t\t: []\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Toolbar>\n\n\t\t\t<p style={ { marginTop: 36 } }>We can also hide the drag handle.</p>\n\t\t\t<Toolbar label=\"Block Mover\">\n\t\t\t\t<BlockMover\n\t\t\t\t\tclientIds={\n\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t? [ blocks[ 1 ].innerBlocks[ 0 ].clientId ]\n\t\t\t\t\t\t\t: []\n\t\t\t\t\t}\n\t\t\t\t\thideDragHandle\n\t\t\t\t/>\n\t\t\t</Toolbar>\n\t\t</div>\n\t);\n}\n\nexport default {\n\ttitle: 'BlockEditor/BlockMover',\n};\n\nexport const _default = () => {\n\treturn (\n\t\t<Provider>\n\t\t\t<BlockMoverStory />\n\t\t</Provider>\n\t);\n};\n",locationsMap:{default:{startLoc:{col:24,line:104},endLoc:{col:1,line:110},startBody:{col:24,line:104},endBody:{col:1,line:110}}}}},title:"BlockEditor/BlockMover"};const _default=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Provider,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockMoverStory,{})});_default.displayName="_default",_default.__docgenInfo={description:"",methods:[],displayName:"_default"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/block-mover/stories/index.js"]={name:"_default",docgenInfo:_default.__docgenInfo,path:"packages/block-editor/src/components/block-mover/stories/index.js"})}}]);