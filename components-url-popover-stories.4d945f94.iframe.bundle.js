"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[3030],{"./packages/icons/build-module/library/keyboard-return.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const keyboardReturn=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"}));__webpack_exports__.Z=keyboardReturn},"./packages/block-editor/src/components/url-popover/stories/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:function(){return _default},default:function(){return stories}});var build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),toggle_control=__webpack_require__("./packages/components/build-module/toggle-control/index.js"),react=__webpack_require__("./node_modules/react/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),keyboard_return=__webpack_require__("./packages/icons/build-module/library/keyboard-return.js"),utils=__webpack_require__("./packages/components/build-module/popover/utils.js"),popover=__webpack_require__("./packages/components/build-module/popover/index.js"),chevron_down=__webpack_require__("./packages/icons/build-module/library/chevron-down.js"),deprecated_build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),edit=__webpack_require__("./packages/icons/build-module/library/edit.js"),external_link=__webpack_require__("./packages/components/build-module/external-link/index.js"),filter_url_for_display=__webpack_require__("./packages/url/build-module/filter-url-for-display.js"),safe_decode_uri=__webpack_require__("./packages/url/build-module/safe-decode-uri.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function LinkViewerURL(_ref){let{url:url,urlLabel:urlLabel,className:className}=_ref;const linkClassName=classnames_default()(className,"block-editor-url-popover__link-viewer-url");return url?(0,jsx_runtime.jsx)(external_link.Z,{className:linkClassName,href:url,children:urlLabel||(0,filter_url_for_display.w)((0,safe_decode_uri.x)(url))}):(0,jsx_runtime.jsx)("span",{className:linkClassName})}function LinkViewer(_ref){let{className:className,linkClassName:linkClassName,onEditLinkClick:onEditLinkClick,url:url,urlLabel:urlLabel,...props}=_ref;return(0,jsx_runtime.jsxs)("div",{className:classnames_default()("block-editor-url-popover__link-viewer",className),...props,children:[(0,jsx_runtime.jsx)(LinkViewerURL,{url:url,urlLabel:urlLabel,className:linkClassName}),onEditLinkClick&&(0,jsx_runtime.jsx)(build_module_button.ZP,{icon:edit.Z,label:(0,build_module.__)("Edit"),onClick:onEditLinkClick})]})}LinkViewerURL.displayName="LinkViewerURL",LinkViewerURL.__docgenInfo={description:"",methods:[],displayName:"LinkViewerURL"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-popover/link-viewer-url.js"]={name:"LinkViewerURL",docgenInfo:LinkViewerURL.__docgenInfo,path:"packages/block-editor/src/components/url-popover/link-viewer-url.js"}),LinkViewer.displayName="LinkViewer",LinkViewer.__docgenInfo={description:"",methods:[],displayName:"LinkViewer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-popover/link-viewer.js"]={name:"LinkViewer",docgenInfo:LinkViewer.__docgenInfo,path:"packages/block-editor/src/components/url-popover/link-viewer.js"});var url_input=__webpack_require__("./packages/block-editor/src/components/url-input/index.js");function LinkEditor(_ref){let{autocompleteRef:autocompleteRef,className:className,onChangeInputValue:onChangeInputValue,value:value,...props}=_ref;return(0,jsx_runtime.jsxs)("form",{className:classnames_default()("block-editor-url-popover__link-editor",className),...props,children:[(0,jsx_runtime.jsx)(url_input.Z,{__nextHasNoMarginBottom:!0,value:value,onChange:onChangeInputValue,autocompleteRef:autocompleteRef}),(0,jsx_runtime.jsx)(build_module_button.ZP,{icon:keyboard_return.Z,label:(0,build_module.__)("Apply"),type:"submit"})]})}LinkEditor.displayName="LinkEditor",LinkEditor.__docgenInfo={description:"",methods:[],displayName:"LinkEditor"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-popover/link-editor.js"]={name:"LinkEditor",docgenInfo:LinkEditor.__docgenInfo,path:"packages/block-editor/src/components/url-popover/link-editor.js"});function URLPopover(_ref){let computedPlacement,{additionalControls:additionalControls,children:children,renderSettings:renderSettings,placement:placement,focusOnMount:focusOnMount="firstElement",position:position,...popoverProps}=_ref;void 0!==position&&(0,deprecated_build_module.Z)("`position` prop in wp.blockEditor.URLPopover",{since:"6.2",alternative:"`placement` prop"}),void 0!==placement?computedPlacement=placement:void 0!==position&&(computedPlacement=(0,utils.KF)(position)),computedPlacement=computedPlacement||"bottom";const[isSettingsExpanded,setIsSettingsExpanded]=(0,react.useState)(!1),showSettings=!!renderSettings&&isSettingsExpanded;return(0,jsx_runtime.jsxs)(popover.Z,{className:"block-editor-url-popover",focusOnMount:focusOnMount,placement:computedPlacement,shift:!0,...popoverProps,children:[(0,jsx_runtime.jsxs)("div",{className:"block-editor-url-popover__input-container",children:[(0,jsx_runtime.jsxs)("div",{className:"block-editor-url-popover__row",children:[children,!!renderSettings&&(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"block-editor-url-popover__settings-toggle",icon:chevron_down.Z,label:(0,build_module.__)("Link settings"),onClick:()=>{setIsSettingsExpanded(!isSettingsExpanded)},"aria-expanded":isSettingsExpanded})]}),showSettings&&(0,jsx_runtime.jsx)("div",{className:"block-editor-url-popover__row block-editor-url-popover__settings",children:renderSettings()})]}),additionalControls&&!showSettings&&(0,jsx_runtime.jsx)("div",{className:"block-editor-url-popover__additional-controls",children:additionalControls})]})}URLPopover.displayName="URLPopover",URLPopover.LinkEditor=LinkEditor,URLPopover.LinkViewer=LinkViewer,URLPopover.__docgenInfo={description:"",methods:[],displayName:"URLPopover",props:{focusOnMount:{defaultValue:{value:"'firstElement'",computed:!1},required:!1}}};var url_popover=URLPopover;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-popover/index.js"]={name:"URLPopover",docgenInfo:URLPopover.__docgenInfo,path:"packages/block-editor/src/components/url-popover/index.js"});var stories={parameters:{sourceLink:"packages/block-editor/src/components/url-popover",storySource:{source:"/**\n * WordPress dependencies\n */\nimport { Button, ToggleControl } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport URLPopover from '../';\n\nexport default { title: 'BlockEditor/URLPopover' };\n\nconst TestURLPopover = () => {\n\tconst [ isVisible, setVisiblility ] = useState( false );\n\tconst [ url, setUrl ] = useState( '' );\n\n\tconst close = () => setVisiblility( false );\n\tconst setTarget = () => {};\n\n\treturn (\n\t\t<>\n\t\t\t<Button onClick={ () => setVisiblility( true ) }>Edit URL</Button>\n\t\t\t{ isVisible && (\n\t\t\t\t<URLPopover\n\t\t\t\t\tonClose={ close }\n\t\t\t\t\trenderSettings={ () => (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t\t\tonChange={ setTarget }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<form onSubmit={ close }>\n\t\t\t\t\t\t<input type=\"url\" value={ url } onChange={ setUrl } />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={ keyboardReturn }\n\t\t\t\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n\t\t\t\t</URLPopover>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport const _default = () => {\n\treturn <TestURLPopover />;\n};\n",locationsMap:{default:{startLoc:{col:24,line:50},endLoc:{col:1,line:52},startBody:{col:24,line:50},endBody:{col:1,line:52}}}}},title:"BlockEditor/URLPopover"};const TestURLPopover=()=>{const[isVisible,setVisiblility]=(0,react.useState)(!1),[url,setUrl]=(0,react.useState)(""),close=()=>setVisiblility(!1),setTarget=()=>{};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:()=>setVisiblility(!0),children:"Edit URL"}),isVisible&&(0,jsx_runtime.jsx)(url_popover,{onClose:close,renderSettings:()=>(0,jsx_runtime.jsx)(toggle_control.Z,{label:(0,build_module.__)("Open in new tab"),onChange:setTarget}),children:(0,jsx_runtime.jsxs)("form",{onSubmit:close,children:[(0,jsx_runtime.jsx)("input",{type:"url",value:url,onChange:setUrl}),(0,jsx_runtime.jsx)(build_module_button.ZP,{icon:keyboard_return.Z,label:(0,build_module.__)("Apply"),type:"submit"})]})})]})},_default=()=>(0,jsx_runtime.jsx)(TestURLPopover,{});_default.displayName="_default",_default.__docgenInfo={description:"",methods:[],displayName:"_default"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-popover/stories/index.js"]={name:"_default",docgenInfo:_default.__docgenInfo,path:"packages/block-editor/src/components/url-popover/stories/index.js"})}}]);